var e=qSel(".pTtl > span"),t=new Date,months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],formattedDate=` - Today <span style="font-size: 18px;">(${months[t.getMonth()]} ${t.getDate()}, ${t.getFullYear()})</span>`;e.innerHTML=e.innerHTML+formattedDate;
function handleQueryResponse(e){if(e.isError()){console.error("Error in query: "+e.getMessage()+" "+e.getDetailedMessage());return}var t=e.getDataTable(),r=document.getElementById("dataTable");r.innerHTML="";for(var n=document.createElement("tbody"),a=0;a<t.getNumberOfRows();a++)for(var l=n.insertRow(a),o=0;o<t.getNumberOfColumns();o++){var s=t.getFormattedValue(a,o);if(0===o){var i=s.split(", ");if(2===i.length){var g=i[0].split(" ");2===g.length&&(s=g[0].substring(0,3)+" "+g[1]+", "+i[1])}}l.insertCell(o).textContent=s}r.appendChild(n);for(var d=n.rows[0],$=r.createTHead().insertRow(0),f=0;f<d.cells.length;f++){var u=document.createElement("th");u.textContent=d.cells[f].textContent,$.appendChild(u)}n.deleteRow(0),addArrowsToColumn3(r),addLinksToTable(r),updatePetrolPrice()}
function addArrowsToColumn3(e){for(var t=1;t<e.rows.length;t++){var n=e.rows[t].cells[2],r=n.textContent.trim(),a=r.match(/(-?[\d,]+\.*\d*)/);if(a&&a.length>0){var o=parseFloat(a[0].replace(",","").trim());if(!isNaN(o)){var l=document.createElement("span");l.classList.add("arrow"),o>0?(l.textContent='\u25B2',l.style.color="red"):o<0?(l.textContent='\u25BC',l.style.color="green"):(l.textContent='\u25FC',l.style.fontWeight="bold");var d=document.createElement("span");d.textContent="â‚¹ "+o.toFixed(2);var i=document.createElement("span");i.textContent=r.replace(a[0],""),n.innerHTML="",n.appendChild(i),n.appendChild(d),n.appendChild(document.createTextNode(" ")),n.appendChild(l)}}}}
function addLinksToTable(e){for(var t={},n=1;n<e.rows.length;n++){var r=e.rows[n].cells[0],a=r.textContent.trim();if(t.hasOwnProperty(a)){var o=document.createElement("a");o.href=t[a],o.textContent=a,r.innerHTML="",r.appendChild(o)}}}
